(this.webpackJsonpporygon=this.webpackJsonpporygon||[]).push([[0],{139:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(66),i=n.n(o),c=(n(76),n(77),n(0)),l=n(7),s=n(34),u=n(6),m=n(71),p=a.useEffect,d=a.useMemo,h=a.useRef;function f(e){var t=e.group,n=e.fbxPath,a=e.fbxURL,r=e.mixer,o=e.envMap,i=e.castShadow,l=e.receiveShadow,p=e.materialProps,d=e.actionIndex,h=void 0===d?0:d;if(null!=a){var f=new m.a;f.setPath(n),f.load(a,(function(e){if(t.current&&e){var n;if(t.current.children&&t.current.children.map((function(e){return t.current.remove(e)})),p){var a=p.color,m=Object(s.a)(p,["color"]);!function e(t,n,a){null!=n&&(Array.isArray(n)?n:[n]).map((function(n){return"Group"===n.constructor.name&&n.children&&e(t,n.children,a),n.material&&(t&&n.material.color.set(t),Object.entries(a).map((function(e){var t=Object(u.a)(e,2),a=t[0],r=t[1];return n.material[a]=r,null}))),null}))}(a,e.scene.children,m)}if(r.current=new c.AnimationMixer(e),(null===(n=e.animations)||void 0===n?void 0:n.length)>0)r.current.clipAction(e.animations[h]).play();e.traverse((function(e){e.isMesh&&(o&&(e.material.envMap=o),e.castShadow=i,e.receiveShadow=l)})),t.current.add(e)}}))}else console.warn("[FBX] No fbxURL")}var v=(0,a.memo)((function(e){var t=e.fbxPath,n=void 0===t?"":t,r=e.fbxURL,o=e.view3DEnvMap,i=void 0!==o&&o,u=e.castShadow,m=void 0!==u&&u,v=e.receiveShadow,g=void 0!==v&&v,w=Object(s.a)(e,["fbxPath","fbxURL","view3DEnvMap","castShadow","receiveShadow"]),b=h(),E=h(),y=Object(l.useViewContext)().envMap,x=d((function(){if(w&&0!==Object.keys(w).length){var e={};return["color","wireframe","opacity","transparent","side","depthWrite","depthTest"].map((function(t){return w[t]&&(e[t]=w[t]),null})),Object.keys(e).length>0?e:void 0}}),[w]),L=d((function(){return i?y:null}),[i,y]),S=d((function(){return r||"No fbxURL"}),[r]);p((function(){b&&f({group:b,fbxPath:n,fbxURL:r,mixer:E,envMap:L,castShadow:m,receiveShadow:g,materialProps:x})}),[b,n,r,L,m,g,x]);var O=new c.Clock;return Object(l.useAnimationFrame)((function(){var e,t=O.getDelta();null===(e=E.current)||void 0===e||e.update(t)})),a.createElement(l.Group,Object.assign({ref:b},w),a.createElement(l.Label,{text:S,textColor:"red"}))}));v.displayName="FBX";var g=function(){return r.a.createElement(l.View3D,{orbitControls:!0,backgroundEquirectangularTextureURL:"backgrounds/palace_watermarked.jpg",camera:{position:[0,2,10]},controls:{enableZoom:!1}},r.a.createElement(l.SpotLight,{intensity:.7,color:"cyan",position:[0,0,10]}),r.a.createElement(l.SpotLight,{intensity:.4,color:"cyan",position:[0,0,-10]}),r.a.createElement(l.SpotLight,{intensity:.7,color:"snow",position:[0,0,10]}),r.a.createElement(l.SpotLight,{intensity:.4,color:"sand",position:[0,0,-10]}),r.a.createElement(l.SpotLight,{intensity:.6,color:"tan",position:[0,0,-10]}),r.a.createElement(l.SpotLight,{intensity:.3,color:"tan",position:[0,0,10]}),r.a.createElement(l.DirectionalLight,{intensity:.3,position:[0,1,0]}),r.a.createElement(l.AmbientLight,{intensity:.2}),r.a.createElement(l.Box,null),r.a.createElement(l.GLTF,{gltfURL:"gltf/flamingo.glb"}))};n(139);var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"PORYGON"),r.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},72:function(e,t,n){e.exports=n(140)},76:function(e,t,n){}},[[72,1,2]]]);
//# sourceMappingURL=main.f366487f.chunk.js.map