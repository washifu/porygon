(this.webpackJsonpporygon=this.webpackJsonpporygon||[]).push([[0],{139:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(66),i=n.n(r),c=(n(76),n(77),n(0)),l=n(7),s=n(34),u=n(6),m=n(71),p=a.useEffect,d=a.useMemo,f=a.useRef;function h(e){var t=e.group,n=e.fbxPath,a=e.fbxURL,o=e.mixer,r=e.envMap,i=e.castShadow,l=e.receiveShadow,p=e.materialProps,d=e.actionIndex,f=void 0===d?0:d;if(null!=a){var h=new m.a;h.setPath(n),h.load(a,(function(e){if(t.current&&e){var n;if(t.current.children&&t.current.children.map((function(e){return t.current.remove(e)})),p){var a=p.color,m=Object(s.a)(p,["color"]);!function e(t,n,a){null!=n&&(Array.isArray(n)?n:[n]).map((function(n){return"Group"===n.constructor.name&&n.children&&e(t,n.children,a),n.material&&(t&&n.material.color.set(t),Object.entries(a).map((function(e){var t=Object(u.a)(e,2),a=t[0],o=t[1];return n.material[a]=o,null}))),null}))}(a,e.scene.children,m)}if(o.current=new c.AnimationMixer(e),(null===(n=e.animations)||void 0===n?void 0:n.length)>0)o.current.clipAction(e.animations[f]).play();e.traverse((function(e){e.isMesh&&(r&&(e.material.envMap=r),e.castShadow=i,e.receiveShadow=l)})),t.current.add(e)}}))}else console.warn("[FBX] No fbxURL")}var v=(0,a.memo)((function(e){var t=e.fbxPath,n=void 0===t?"":t,o=e.fbxURL,r=e.view3DEnvMap,i=void 0!==r&&r,u=e.castShadow,m=void 0!==u&&u,v=e.receiveShadow,b=void 0!==v&&v,w=Object(s.a)(e,["fbxPath","fbxURL","view3DEnvMap","castShadow","receiveShadow"]),g=f(),x=f(),E=Object(l.useViewContext)().envMap,y=d((function(){if(w&&0!==Object.keys(w).length){var e={};return["color","wireframe","opacity","transparent","side","depthWrite","depthTest"].map((function(t){return w[t]&&(e[t]=w[t]),null})),Object.keys(e).length>0?e:void 0}}),[w]),L=d((function(){return i?E:null}),[i,E]),S=d((function(){return o||"No fbxURL"}),[o]);p((function(){g&&h({group:g,fbxPath:n,fbxURL:o,mixer:x,envMap:L,castShadow:m,receiveShadow:b,materialProps:y})}),[g,n,o,L,m,b,y]);var M=new c.Clock;return Object(l.useAnimationFrame)((function(){var e,t=M.getDelta();null===(e=x.current)||void 0===e||e.update(t)})),a.createElement(l.Group,Object.assign({ref:g},w),a.createElement(l.Label,{text:S,textColor:"red"}))}));v.displayName="FBX";var b=v,w=function(){return o.a.createElement(l.View3D,{orbitControls:!0,backgroundEquirectangularTextureURL:"backgrounds/palace_watermarked.jpg",camera:{position:[0,2,10]},controls:{enableZoom:!1}},o.a.createElement(l.SpotLight,{intensity:.7,color:"cyan",position:[0,0,10]}),o.a.createElement(l.SpotLight,{intensity:.4,color:"cyan",position:[0,0,-10]}),o.a.createElement(l.SpotLight,{intensity:.7,color:"snow",position:[0,0,10]}),o.a.createElement(l.SpotLight,{intensity:.4,color:"sand",position:[0,0,-10]}),o.a.createElement(l.SpotLight,{intensity:.6,color:"tan",position:[0,0,-10]}),o.a.createElement(l.SpotLight,{intensity:.3,color:"tan",position:[0,0,10]}),o.a.createElement(l.DirectionalLight,{intensity:.3,position:[0,1,0]}),o.a.createElement(l.AmbientLight,{intensity:.2}),o.a.createElement(b,{scale:[.1,.1,.1],position:[0,-12,0],rotation:[-Math.PI/2,0,0],fbxURL:"fbx/sophia.fbx"}),o.a.createElement(b,{scale:[.1,.1,.1],position:[0,-10,50],fbxURL:"fbx/samba.fbx"}))};n(139);var g=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},"PORYGON"),o.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},72:function(e,t,n){e.exports=n(140)},76:function(e,t,n){}},[[72,1,2]]]);
//# sourceMappingURL=main.c8dba8be.chunk.js.map